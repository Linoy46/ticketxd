/* Variables del tema (similares a las de products) */
$primary-color: #422b7c;
$primary-light: #9c27b0;
$primary-dark: #311b5a;
$accent-color: #a11a5c;

// Contenedor del formulario dentro del modal
.form-dialog {
  width: 100%;
  padding: 0.5rem 0;
}

// Campos del formulario con estilos consistentes
.form-group {
  margin-bottom: 1.5rem;
  position: relative;
}

// Mejorar estilos de labels
.form-label {
  font-weight: 500;
  margin-bottom: 0.5rem;
  color: #444;
  display: block;
}

// Estilos para campos requeridos
.required:after {
  content: " *";
  color: $accent-color;
}

// Estilos para PrimeNG
:host ::ng-deep {
  // Asegurar que el modal y su contenido permitan el overflow para los dropdowns
  .p-dialog-content {
    overflow: visible !important;
  }

  .p-fluid {
    width: 100%;
    label {
      font-weight: 500;
      margin-bottom: 0.5rem;
      display: block;
    }

    .p-dropdown,
    .p-inputtext,
    .p-calendar,
    .p-inputnumber {
      width: 100%;
    }
  }

  // Dropdown
  .p-dropdown {
    width: 100%;
    position: relative;
    margin-bottom: 0.25rem;

    .p-dropdown-label {
      padding: 0.75rem;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .p-inputtext {
      width: 100%;
    }

    &.p-invalid .p-dropdown-label,
    &.is-invalid .p-dropdown-label,
    &.ng-invalid.ng-touched .p-dropdown-label {
      border-color: #f44336;
    }
  }

  // Panel del dropdown
  .p-dropdown-panel {
    min-width: 100% !important;
    width: auto !important;
    max-height: 300px;
    position: absolute !important;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    border-radius: 4px;
    z-index: 1000 !important;

    .p-dropdown-items-wrapper {
      max-height: 180px;
      overflow-y: auto;
    }

    .p-dropdown-filter-container {
      width: 100%;
      padding: 0.5rem;

      .p-dropdown-filter {
        width: 100%;
        padding: 0.5rem;
      }
    }

    .p-dropdown-items {
      padding: 0.5rem 0;
      overflow-y: auto;
      max-height: calc(100% - 50px);

      .p-dropdown-item {
        padding: 0.75rem 1rem;
        white-space: normal;
        word-break: break-word;
        overflow: hidden;
        text-overflow: ellipsis;
        max-height: 60px;

        &:hover {
          background-color: rgba(66, 43, 124, 0.1);
        }

        small {
          display: block;
          margin-top: 0.25rem;
        }
      }
    }
  }

  // Error messages
  .p-error {
    color: #f44336;
    font-size: 0.875rem;
    margin-top: 0.25rem;
    display: block;
  }

  // Radio buttons
  .p-radiobutton {
    .p-radiobutton-box {
      &.p-highlight {
        border-color: #422b7c;
        background: #422b7c;
      }

      &:not(.p-disabled):not(.p-highlight):hover {
        border-color: #422b7c;
      }
    }
  }

  // Botones
  .p-button {
    min-width: 120px;

    &.p-button-secondary {
      color: #422b7c;
      border-color: #422b7c;

      &:enabled:hover {
        background: rgba(66, 43, 124, 0.1);
        border-color: #422b7c;
        color: #422b7c;
      }
    }

    &:enabled:hover {
      background: darken(#422b7c, 10%);
      border-color: darken(#422b7c, 10%);
    }

    background: #422b7c;
    border-color: #422b7c;
  }

  // Estilo para el bot√≥n principal (adaptado del ejemplo de productos)
  .btn-primary {
    background-color: $primary-color;
    border-color: $primary-dark;
    color: white;

    &:hover {
      background-color: $primary-dark;
    }

    &:disabled {
      background-color: lighten($primary-color, 20%);
      border-color: lighten($primary-dark, 20%);
    }
  }

  .btn-secondary {
    background-color: #f8f9fa;
    border-color: #dee2e6;
    color: #212529;

    &:hover {
      background-color: #e9ecef;
    }
  }

  .p-dropdown-panel {
    z-index: 1100;
  }

  .p-dropdown {
    width: 100%;

    .p-dropdown-label {
      display: block;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }

  .ng-dropdown-panel {
    z-index: 1100;
  }
  .modal-content {
    overflow: visible;
  }
}

// Specific styles for area dropdown
.area-item {
  padding: 0.5rem;
  white-space: normal;
  word-break: break-word;

  &.selected {
    font-weight: 500;
  }
}

// Estilo para el switch de estado
.form-switch {
  padding-left: 2.5em;

  .form-check-input {
    width: 2em;
    margin-left: -2.5em;

    &:checked {
      background-color: $primary-color;
      border-color: $primary-color;
    }
  }
}

@media (max-width: 576px) {
  .form-group {
    margin-bottom: 1rem;
  }

  .p-formgrid .p-grid {
    flex-direction: column;
    gap: 0.5rem;
  }

  :host ::ng-deep body .p-dropdown-panel {
    min-width: 280px !important; // celulares
  }
}
